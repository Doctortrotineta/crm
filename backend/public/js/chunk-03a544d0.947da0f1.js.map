{"version":3,"sources":["webpack:///./src/views/scooter/Edit.vue","webpack:///./src/views/scooter/ConfirmDialog.vue","webpack:///src/views/scooter/ConfirmDialog.vue","webpack:///./src/views/scooter/ConfirmDialog.vue?ecfa","webpack:///./src/views/scooter/ConfirmDialog.vue?fdde","webpack:///src/views/scooter/Edit.vue","webpack:///./src/views/scooter/Edit.vue?f88f","webpack:///./src/views/scooter/Edit.vue?f6ab","webpack:///./src/views/scooter/ConfirmDialog.vue?8e65","webpack:///./src/views/scooter/Edit.vue?7ec2"],"names":["render","_vm","this","_c","_self","staticClass","attrs","staticStyle","_v","ref","on","$event","preventDefault","submit","apply","arguments","model","value","formValid","callback","$$v","expression","rules","name","form","$set","phone","barcode","termen","problem","notes","price","status","statusId","doneBy","_e","signature","removeSignature","images","handlePrint","updateScooter","slot","snackBar","type","enabled","_s","message","confirmDialog","sendSMS","staticRenderFns","_g","_b","$attrs","$listeners","confirm","cancel","components","props","data","methods","component","ConfirmDialog","PdfContent","VueHtml2pdf","items","v","imageRules","id","title","created","mounted","computed","watch","deep","handler","getScooterList","get","then","console","catch","getItem","isBarcodeUnique","item","validatePhoneNumber","method","url","headers","useQueryString","params","to","connection_id","password","put"],"mappings":"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","file":"js/chunk-03a544d0.947da0f1.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('v-row',[_c('v-col',{staticClass:\"d-flex justify-center\",attrs:{\"cols\":\"12\"}},[_c('v-card',{staticStyle:{\"width\":\"100%\",\"max-width\":\"600px\"}},[_c('v-card-title',{staticClass:\"dialog-title\"},[_vm._v(\" Edit Scooter \")]),_c('v-card-text',[_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.submit.apply(null, arguments)}},model:{value:(_vm.formValid),callback:function ($$v) {_vm.formValid=$$v},expression:\"formValid\"}},[_c('v-container',{staticClass:\"px-0\",attrs:{\"fluid\":\"\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"12\"}},[_c('v-text-field',{attrs:{\"color\":\"primary\",\"label\":\"Name\",\"rules\":_vm.rules.name,\"required\":\"\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\"}},[_c('v-text-field',{attrs:{\"color\":\"primary\",\"label\":\"Phone Number\",\"rules\":_vm.rules.phone,\"required\":\"\"},model:{value:(_vm.form.phone),callback:function ($$v) {_vm.$set(_vm.form, \"phone\", $$v)},expression:\"form.phone\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\"}},[_c('v-text-field',{attrs:{\"color\":\"primary\",\"label\":\"Barcode\",\"rules\":_vm.rules.barcode,\"required\":\"\"},model:{value:(_vm.form.barcode),callback:function ($$v) {_vm.$set(_vm.form, \"barcode\", $$v)},expression:\"form.barcode\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\"}},[_c('v-text-field',{attrs:{\"color\":\"primary\",\"label\":\"Model\",\"rules\":_vm.rules.model,\"required\":\"\"},model:{value:(_vm.form.model),callback:function ($$v) {_vm.$set(_vm.form, \"model\", $$v)},expression:\"form.model\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\"}},[_c('v-text-field',{attrs:{\"color\":\"primary\",\"label\":\"TERMEN APROXIMATIV\",\"rules\":_vm.rules.termen,\"required\":\"\"},model:{value:(_vm.form.termen),callback:function ($$v) {_vm.$set(_vm.form, \"termen\", $$v)},expression:\"form.termen\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-textarea',{attrs:{\"color\":\"primary\",\"label\":\"Problem\",\"rows\":3,\"rules\":_vm.rules.problem,\"required\":\"\"},model:{value:(_vm.form.problem),callback:function ($$v) {_vm.$set(_vm.form, \"problem\", $$v)},expression:\"form.problem\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-textarea',{attrs:{\"color\":\"primary\",\"label\":\"Notes\",\"rows\":3},model:{value:(_vm.form.notes),callback:function ($$v) {_vm.$set(_vm.form, \"notes\", $$v)},expression:\"form.notes\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-text-field',{attrs:{\"color\":\"primary\",\"label\":\"Price\",\"rules\":_vm.rules.price,\"required\":\"\"},model:{value:(_vm.form.price),callback:function ($$v) {_vm.$set(_vm.form, \"price\", $$v)},expression:\"form.price\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-select',{attrs:{\"color\":\"primary\",\"label\":\"Status\",\"placeholder\":\"Select a Status\",\"items\":_vm.status,\"item-text\":\"title\",\"item-value\":\"id\",\"rules\":_vm.rules.status,\"required\":\"\"},model:{value:(_vm.form.statusId),callback:function ($$v) {_vm.$set(_vm.form, \"statusId\", $$v)},expression:\"form.statusId\"}})],1),(_vm.form.statusId > 1)?_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-text-field',{attrs:{\"color\":\"primary\",\"label\":\"Done By\",\"disabled\":\"\"},model:{value:(_vm.form.doneBy),callback:function ($$v) {_vm.$set(_vm.form, \"doneBy\", $$v)},expression:\"form.doneBy\"}})],1):_vm._e(),_c('v-col',{attrs:{\"cols\":\"12\"}},[(_vm.form.signature)?_c('div',{staticClass:\"signature-wrapper\"},[_c('span',{staticClass:\"text-caption\"},[_vm._v(\"Signature\")]),_c('div',{staticClass:\"signature-img\"},[_c('v-btn',{staticClass:\"close-btn\",staticStyle:{\"background\":\"#ff5252\"},attrs:{\"x-small\":\"\",\"icon\":\"\",\"color\":\"white\"},on:{\"click\":function($event){return _vm.removeSignature()}}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1),_c('v-img',{attrs:{\"src\":_vm.form.signature,\"alt\":\"signature\",\"max-height\":\"150\",\"max-width\":\"120\"}})],1)]):_c('vuetify-upload',{attrs:{\"max\":1,\"can-delete\":\"\",\"accept\":\"image/*\",\"color\":\"accent\"},model:{value:(_vm.images),callback:function ($$v) {_vm.images=$$v},expression:\"images\"}})],1)],1)],1)],1)],1),_c('v-card-actions',{staticClass:\"dialog-actions\"},[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"success\",\"small\":\"\"},on:{\"click\":_vm.handlePrint}},[_vm._v(\" Print PDF \")]),_c('v-btn',{attrs:{\"color\":\"primary\",\"small\":\"\",\"disabled\":!_vm.formValid},on:{\"click\":_vm.updateScooter}},[_vm._v(\" Save \")])],1)],1)],1)],1),_c('VueHtml2pdf',{ref:\"html2Pdf\",attrs:{\"show-layout\":false,\"float-layout\":true,\"enable-download\":false,\"preview-modal\":true,\"paginate-elements-by-height\":1400,\"filename\":\"download\",\"pdf-quality\":2,\"manual-pagination\":false,\"pdf-format\":\"a4\",\"pdf-orientation\":\"portrait\",\"pdf-content-width\":\"100%\"}},[_c('section',{attrs:{\"slot\":\"pdf-content\"},slot:\"pdf-content\"},[_c('pdf-content',{attrs:{\"item\":_vm.form}})],1)]),_c('v-snackbar',{attrs:{\"timeout\":\"3000\",\"color\":_vm.snackBar.type,\"top\":\"\",\"right\":\"\"},model:{value:(_vm.snackBar.enabled),callback:function ($$v) {_vm.$set(_vm.snackBar, \"enabled\", $$v)},expression:\"snackBar.enabled\"}},[_vm._v(\" \"+_vm._s(_vm.snackBar.message)+\" \")]),_c('confirm-dialog',{on:{\"cancel\":function($event){_vm.confirmDialog = false},\"confirm\":_vm.sendSMS},model:{value:(_vm.confirmDialog),callback:function ($$v) {_vm.confirmDialog=$$v},expression:\"confirmDialog\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-dialog',_vm._g(_vm._b({attrs:{\"persistent\":\"\",\"width\":\"350\",\"eager\":\"\"}},'v-dialog',_vm.$attrs,false),_vm.$listeners),[_c('v-sheet',{attrs:{\"outlined\":\"\",\"color\":\"accent\",\"rounded\":\"\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"dialog-title\"},[_vm._v(\" Send SMS \")]),_c('v-card-text',[_vm._v(\" Do you really want to send SMS to the client? \")]),_c('v-card-actions',[_c('v-btn',{staticClass:\"text-capitalize btn\",attrs:{\"small\":\"\",\"color\":\"error\"},on:{\"click\":_vm.confirm}},[_vm._v(\" Confirm \")]),_c('v-btn',{staticClass:\"text-capitalize btn\",attrs:{\"small\":\"\",\"color\":\"white\"},on:{\"click\":_vm.cancel}},[_vm._v(\" Cancel \")])],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-dialog v-bind=\"$attrs\" v-on=\"$listeners\" persistent width=\"350\" eager>\n    <v-sheet outlined color=\"accent\" rounded>\n      <v-card>\n        <v-card-title class=\"dialog-title\"> Send SMS </v-card-title>\n        <v-card-text>\n          Do you really want to send SMS to the client?\n        </v-card-text>\n        <v-card-actions>\n          <v-btn\n            small\n            color=\"error\"\n            class=\"text-capitalize btn\"\n            @click=\"confirm\"\n          >\n            Confirm\n          </v-btn>\n          <v-btn\n            small\n            color=\"white\"\n            class=\"text-capitalize btn\"\n            @click=\"cancel\"\n          >\n            Cancel\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-sheet>\n  </v-dialog>\n</template>\n\n<script>\nexport default {\n  name: \"ConfirmDialog\",\n  components: {},\n  props: {},\n  data() {\n    return {};\n  },\n  methods: {\n    confirm() {\n      this.$emit(\"confirm\");\n    },\n    cancel() {\n      this.$emit(\"cancel\");\n    },\n  },\n};\n</script>\n<style scoped>\n.v-card {\n  padding: 24px;\n}\n.v-card__title {\n  padding: 0;\n  padding-top: 0.5rem;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 18px;\n  line-height: 20px;\n  color: #111827;\n}\n.v-card__text {\n  padding: 0;\n  padding-top: 0.5rem;\n  font-style: normal;\n  font-weight: 500;\n  font-size: 13px;\n  line-height: 16px;\n  color: #6b7280;\n}\n.v-card__actions {\n  padding: 0;\n  padding-top: 1rem;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ConfirmDialog.vue?vue&type=template&id=b1eb7ef0&scoped=true&\"\nimport script from \"./ConfirmDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./ConfirmDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ConfirmDialog.vue?vue&type=style&index=0&id=b1eb7ef0&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b1eb7ef0\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <v-row>\n      <v-col cols=\"12\" class=\"d-flex justify-center\">\n        <v-card style=\"width: 100%; max-width: 600px\">\n          <v-card-title class=\"dialog-title\"> Edit Scooter </v-card-title>\n          <v-card-text>\n            <v-form\n              ref=\"form\"\n              v-model=\"formValid\"\n              lazy-validation\n              @submit.prevent=\"submit\"\n            >\n              <v-container fluid class=\"px-0\">\n                <v-row>\n                  <v-col cols=\"12\" sm=\"12\">\n                    <v-text-field\n                      color=\"primary\"\n                      label=\"Name\"\n                      v-model=\"form.name\"\n                      :rules=\"rules.name\"\n                      required\n                    ></v-text-field>\n                  </v-col>\n                  <v-col cols=\"12\" sm=\"6\">\n                    <v-text-field\n                      color=\"primary\"\n                      label=\"Phone Number\"\n                      v-model=\"form.phone\"\n                      :rules=\"rules.phone\"\n                      required\n                    ></v-text-field>\n                  </v-col>\n                  <v-col cols=\"12\" sm=\"6\">\n                    <v-text-field\n                      color=\"primary\"\n                      label=\"Barcode\"\n                      v-model=\"form.barcode\"\n                      :rules=\"rules.barcode\"\n                      required\n                    ></v-text-field>\n                  </v-col>\n                  <v-col cols=\"12\" sm=\"6\">\n                    <v-text-field\n                      color=\"primary\"\n                      label=\"Model\"\n                      v-model=\"form.model\"\n                      :rules=\"rules.model\"\n                      required\n                    ></v-text-field>\n                  </v-col>\n                  <v-col cols=\"12\" sm=\"6\">\n                    <v-text-field\n                      color=\"primary\"\n                      label=\"TERMEN APROXIMATIV\"\n                      v-model=\"form.termen\"\n                      :rules=\"rules.termen\"\n                      required\n                    ></v-text-field>\n                  </v-col>\n                  <v-col cols=\"12\">\n                    <v-textarea\n                      color=\"primary\"\n                      label=\"Problem\"\n                      :rows=\"3\"\n                      v-model=\"form.problem\"\n                      :rules=\"rules.problem\"\n                      required\n                    >\n                    </v-textarea>\n                  </v-col>\n                  <v-col cols=\"12\">\n                    <v-textarea\n                      color=\"primary\"\n                      label=\"Notes\"\n                      :rows=\"3\"\n                      v-model=\"form.notes\"\n                    >\n                    </v-textarea>\n                  </v-col>\n                  <v-col cols=\"12\">\n                    <v-text-field\n                      color=\"primary\"\n                      label=\"Price\"\n                      v-model=\"form.price\"\n                      :rules=\"rules.price\"\n                      required\n                    ></v-text-field>\n                  </v-col>\n                  <v-col cols=\"12\">\n                    <v-select\n                      color=\"primary\"\n                      label=\"Status\"\n                      placeholder=\"Select a Status\"\n                      :items=\"status\"\n                      v-model=\"form.statusId\"\n                      item-text=\"title\"\n                      item-value=\"id\"\n                      :rules=\"rules.status\"\n                      required\n                    ></v-select>\n                  </v-col>\n                  <v-col cols=\"12\" v-if=\"form.statusId > 1\">\n                    <v-text-field\n                      color=\"primary\"\n                      label=\"Done By\"\n                      v-model=\"form.doneBy\"\n                      disabled\n                    ></v-text-field>\n                  </v-col>\n                  <v-col cols=\"12\">\n                    <div class=\"signature-wrapper\" v-if=\"form.signature\">\n                      <span class=\"text-caption\">Signature</span>\n                      <div class=\"signature-img\">\n                        <v-btn\n                          x-small\n                          icon\n                          color=\"white\"\n                          class=\"close-btn\"\n                          style=\"background: #ff5252\"\n                          @click=\"removeSignature()\"\n                        >\n                          <v-icon>mdi-close</v-icon>\n                        </v-btn>\n                        <v-img\n                          :src=\"form.signature\"\n                          alt=\"signature\"\n                          max-height=\"150\"\n                          max-width=\"120\"\n                        ></v-img>\n                      </div>\n                    </div>\n                    <vuetify-upload\n                      v-else\n                      :max=\"1\"\n                      can-delete\n                      accept=\"image/*\"\n                      color=\"accent\"\n                      v-model=\"images\"\n                    ></vuetify-upload>\n                  </v-col>\n                </v-row>\n              </v-container>\n            </v-form>\n          </v-card-text>\n          <v-card-actions class=\"dialog-actions\">\n            <v-spacer></v-spacer>\n            <v-btn color=\"success\" small @click=\"handlePrint\">\n              Print PDF\n            </v-btn>\n            <v-btn\n              color=\"primary\"\n              small\n              @click=\"updateScooter\"\n              :disabled=\"!formValid\"\n            >\n              Save\n            </v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-col>\n    </v-row>\n    <VueHtml2pdf\n      :show-layout=\"false\"\n      :float-layout=\"true\"\n      :enable-download=\"false\"\n      :preview-modal=\"true\"\n      :paginate-elements-by-height=\"1400\"\n      filename=\"download\"\n      :pdf-quality=\"2\"\n      :manual-pagination=\"false\"\n      pdf-format=\"a4\"\n      pdf-orientation=\"portrait\"\n      pdf-content-width=\"100%\"\n      ref=\"html2Pdf\"\n    >\n      <section slot=\"pdf-content\">\n        <pdf-content :item=\"form\" />\n      </section>\n    </VueHtml2pdf>\n    <v-snackbar\n      v-model=\"snackBar.enabled\"\n      timeout=\"3000\"\n      :color=\"snackBar.type\"\n      top\n      right\n    >\n      {{ snackBar.message }}\n    </v-snackbar>\n    <confirm-dialog\n      v-model=\"confirmDialog\"\n      @cancel=\"confirmDialog = false\"\n      @confirm=\"sendSMS\"\n    />\n  </div>\n</template>\n\n<script>\nimport ConfirmDialog from \"./ConfirmDialog.vue\";\nimport PdfContent from \"./PdfContent\";\nimport VueHtml2pdf from \"vue-html2pdf\";\n\nimport axios from \"axios\";\n\nexport default {\n  name: \"EditScooter\",\n  components: {\n    ConfirmDialog,\n    PdfContent,\n    VueHtml2pdf,\n  },\n  data() {\n    return {\n      items: [],\n      form: {},\n      images: [],\n      rules: {\n        name: [(v) => !!v || \"Name is required\"],\n        phone: [(v) => !!v || \"Phone Number is required\"],\n        barcode: [\n          (v) => !!v || \"Barcode is required\",\n          (v) => Number.isInteger(Number(v)) || \"Barcode must be a number\",\n          (v) => this.isBarcodeUnique(v) || \"Barcode already exists\",\n        ],\n        model: [(v) => !!v || \"Model is required\"],\n        termen: [(v) => !!v || \"TERMEN APROXIMATIV is required\"],\n        problem: [(v) => !!v || \"Problem is required\"],\n        price: [(v) => Number.isInteger(Number(v)) || \"Price must be a number\"],\n        status: [(v) => !!v || \"Status is required\"],\n        imageRules: [(v) => v.length > 0 || \"This image is required\"],\n      },\n      formValid: true,\n      status: [\n        { id: 1, title: \"IN LUCRU\" },\n        { id: 2, title: \"FINALIZAT\" },\n        { id: 3, title: \"IESIT\" },\n      ],\n\n      confirmDialog: false,\n\n      snackBar: {\n        type: \"default\",\n        enabled: false,\n        message: \"\",\n      },\n    };\n  },\n  created() {},\n  mounted() {\n    this.formValid = this.$refs.form.validate();\n    this.getScooterList();\n    this.getItem();\n  },\n  computed: {},\n  watch: {\n    form: {\n      deep: true,\n      handler() {\n        this.formValid = this.$refs.form.validate();\n      },\n    },\n  },\n  methods: {\n    getScooterList() {\n      this.$http\n        .get(\"scooter/all\")\n        .then((response) => {\n          console.log(response);\n          if (response.data) {\n            this.items = response.data.result;\n          }\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n    getItem() {\n      this.$http\n        .get(\"scooter/\" + this.$route.params.id)\n        .then((response) => {\n          if (response.status === 200) {\n            this.form = response.data.result;\n          }\n        })\n        .catch((error) => {\n          this.snackBar.type = \"error\";\n          this.snackBar.enabled = true;\n          this.snackBar.message = \"Cannot get scooter item\";\n        });\n    },\n    isBarcodeUnique() {\n      return !this.items.some(\n        (item) => item.barcode === this.form.barcode && item.id !== this.form.id\n      );\n    },\n    handlePrint() {\n      this.$refs.html2Pdf.generatePdf();\n    },\n    removeSignature() {\n      this.form.signature = \"\";\n    },\n    validatePhoneNumber(phone) {\n      const regexp = /^\\(?([0-9]{3})\\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/;\n      if (phone.match(regexp)) {\n        return true;\n      }\n      return false;\n    },\n    async sendSMS() {\n      if (!this.form.phone && !this.validatePhoneNumber(this.form.phone)) {\n        this.snackBar.type = \"error\";\n        this.snackBar.enabled = true;\n        this.snackBar.message = \"Phone number is not valid!\";\n        return;\n      }\n      let message =\n        \"Buna ziua,\\nTrotineta dvs este gata.\\nCost \" +\n        this.form.price +\n        \"lei!\\n\\n\";\n      message += \"O zi buna !\\n\";\n      message +=\n        \"Doctortrotineta.ro\\n0723110511\\nProgram luni-vineri 08.00-17.00\";\n      await axios({\n        method: \"GET\",\n        url: process.env.VUE_APP_SMSLINK_URL,\n        headers: {\n          \"content-type\": \"application/octet-stream\",\n          useQueryString: true,\n        },\n        params: {\n          to: this.form.phone,\n          message: message,\n          connection_id: process.env.VUE_APP_SMSLINK_CONNECTTION_ID,\n          password: process.env.VUE_APP_SMSLINK_PASSWORD,\n        },\n      })\n        .then((res) => {\n          if (res.status === 200) {\n            const result = res.data.split(\";\");\n            if (result[0] === \"ERROR\") {\n              this.snackBar.type = \"error\";\n              this.snackBar.enabled = true;\n              this.snackBar.message = result[2];\n            } else {\n              this.snackBar.type = \"success\";\n              this.snackBar.enabled = true;\n              this.snackBar.message = result[2];\n            }\n            this.confirmDialog = false;\n          }\n        })\n        .catch((error) => {\n          console.log(error);\n          this.snackBar.type = \"error\";\n          this.snackBar.enabled = true;\n          this.snackBar.message = \"Unfortunately not sent SMS to the client\";\n        });\n    },\n    updateScooter() {\n      this.update = () => {\n        if (this.form.statusId > 1) {\n          this.form.doneBy = this.$store.getters.getName;\n        }\n        console.log(this.form);\n        this.$http\n          .put(\"scooter\", this.form)\n          .then((response) => {\n            if (response.status === 200) {\n              if (this.form.statusId === 2) {\n                this.confirmDialog = true;\n              }\n              this.getItem();\n              this.snackBar.type = \"success\";\n              this.snackBar.enabled = true;\n              this.snackBar.message = \"Successfully update Scooter\";\n            }\n          })\n          .catch((error) => {\n            console.log(error);\n            this.snackBar.type = \"error\";\n            this.snackBar.enabled = true;\n            this.snackBar.message = \"Cannot update Scooter\";\n          });\n      };\n\n      if (this.formValid) {\n        if (this.images.length) {\n          this.form.signature = this.images[0].preview;\n        }\n        this.update();\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.dialog-title {\n  font-size: 18px !important;\n  font-weight: 500;\n  line-height: 24px;\n}\n.dialog_actions {\n  padding: 10px 16px;\n}\n.signature-wrapper {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n}\n.signature-img {\n  position: relative;\n  padding: 10px;\n  padding-left: 0;\n}\n.close-btn {\n  position: absolute;\n  overflow: hidden;\n  z-index: 9999999;\n  right: 0;\n  top: 0;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Edit.vue?vue&type=template&id=38da8409&scoped=true&\"\nimport script from \"./Edit.vue?vue&type=script&lang=js&\"\nexport * from \"./Edit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Edit.vue?vue&type=style&index=0&id=38da8409&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"38da8409\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmDialog.vue?vue&type=style&index=0&id=b1eb7ef0&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=style&index=0&id=38da8409&prod&scoped=true&lang=css&\""],"sourceRoot":""}